<div class="skip-links">
  <a href="#main-content">Skip to main content</a>
</div>

<script type="module">
  // variables
  const skipLink = document.querySelector('.skip-links a')

  // execution
  skipLink.addEventListener('keydown', (event) => {
    if (!event.target.closest('a')) return
    const key = event.key

    if (key !== 'Enter') return
    event.preventDefault()
    const target = event.target.getAttribute('href')

    if (document.querySelector(target)) {
      const targetElement = document.querySelector(target)
      targetElement.setAttribute('tabindex', '-1')
      targetElement.focus()
    } else if (!document.querySelector(target) && document.querySelector('h1')) {
      const h1 = document.querySelector('h1')
      h1.setAttribute('tabindex', '-1')
      h1.focus()
    } else {
      console.warn('SkipLinks are not set, either missing an h1 or main content id on the page.')
    }
  })
</script>

<style is:global>
  .skip-links a {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
    transition-duration: 0.7s;
    will-change: transform;
    font-size: 24px;
    font-weight: 500;
    padding: 28px 38px;
    transform: translate(-50%, -100%);
    top: 0;
    border: 1px solid #fff;
    border-radius: 100px;
    line-height: 1.2;
    position: absolute;
    left: 50%;
  }

  .skip-links a:hover,
  .skip-links a:focus {
    top: 0;
    transform: translate(-50%, 45px);
    outline-offset: 2px;
  }
</style>
